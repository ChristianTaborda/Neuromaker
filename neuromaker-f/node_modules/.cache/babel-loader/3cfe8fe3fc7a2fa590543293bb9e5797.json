{"ast":null,"code":"var _jsxFileName = \"/home/Cristian/NeuroMaker/neuromaker-f/src/componentes/loginClient.jsx\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { Button, FormGroup, Input } from 'reactstrap';\nimport '../estilos/loginClient.css';\nimport logo from '../logo.png';\n\nclass LoginClient extends Component {\n  constructor(props) {\n    super(props); //console.log(props)\n\n    this.handleOnchange = input => e => {\n      this.setState({\n        [input]: e.target.value\n      });\n    };\n\n    this.state = {\n      cedula: \"\",\n      clave: \"\"\n    };\n    this.handleOnchange = this.handleOnchange.bind(this);\n    this.enviarSolicitud = this.enviarSolicitud.bind(this);\n    this.enviar = this.enviar.bind(this);\n  }\n\n  enviarSolicitud() {\n    const mensaje = {\n      cedula: this.state.cedula,\n      clave: this.state.clave\n    };\n    console.log(mensaje); //Axios se encarga de hacer solicitudes de forma sencilla\n\n    axios.post('http://localhost:4000/usuario/loginUsuario', mensaje).then(response => {\n      alert(JSON.stringify(response.data));\n\n      if (response.data.mensaje === \"Usuario encontrado\") {\n        window.location.reload();\n        localStorage.setItem(\"token\", \"18182A2ISJ292101\");\n      }\n    });\n  }\n\n  enviar() {\n    /*\n        let esConductor = (JSON.parse(this.state.conductor));\n        if(this.state.identificador.match(\"^[0-9]+$\")!=null){\n          if(this.state.contrasena !== \"\"){\n            const input = {\n              identificador: this.state.identificador, \n              contrasena: this.state.contrasena,\n              conductor: false\n            };\n            let url = \"http://\"+ this.props.url +\":4000/login\";\n            if(esConductor){\n              input.conductor = true;\n            }\n            const opciones = {\n              method: 'POST',  \n              body: JSON.stringify(input),  \n              headers:{\n                'Content-Type': 'application/json'\n              }\n            };\n            const request = new Request(url, opciones);\n            this.setState({closedProgress: false})\n            fetch(request).then(res => res.json())\n            .then((response) => {\n    \n              this.setState({closedProgress: true})\n              console.log('Exito:', JSON.stringify(response))\n    \n              if (response.identificador) {\n                if(response.contrasena){\n                  if(esConductor){\n                    if(response.ocupado){\n                      handleClick({message: \"El taxi esta siendo usado!!\"})\n                    }else{\n                      this.props.iniciarSesion({valor: esConductor, nombre: response.nombre, id:response.id, placa: response.placa});\n                    }\n                  }else{\n                    if(response.ocupado){\n                      handleClick({message: \"La sesion ya esta iniciada\"})\n                    }else{\n                      this.props.iniciarSesion({valor: esConductor, nombre: response.nombre, id:response.id});\n                    }\n                  }            \n                }else{\n                  handleClick({message: \"Contraseña incorrecta\"})\n                }\n              }else{\n                handleClick({message: (esConductor)?\n                                      \"El Conductor no esta registrado\":\n                                      \"El Pasajero no esta registrado\"\n                                    })\n              }\n            }\n            )\n            .catch(error => {\n              console.log('Error:', error)\n              this.setState({closedProgress: true})\n              handleClick({message: \"Error de red, intentelo mas tarde\"})\n              });\n    \n          }else{\n            handleClick({message: \"La contraseña esta vacia\"})\n          }\n        }else{\n          handleClick({message: (esConductor)?\n                      \"El número de CEDULA es invalido\":\n                      \"El número de CELULAR es invalido\"\n                      })\n        } \n        */\n  }\n\n  render() {\n    if (this.props.autenticado) {\n      console.log(\"Esta logeado\");\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"espacio\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"logo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: logo,\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"Bloque\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"formularioLogin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, \"Iniciar Sesi\\xF3n\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }), React.createElement(FormGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-user\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }), React.createElement(Input, {\n      type: \"email\",\n      name: \"email\",\n      onChange: this.handleOnchange('cedula'),\n      placeholder: \"Cedula\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }), React.createElement(FormGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-lock\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }), React.createElement(Input, {\n      type: \"password\",\n      name: \"password\",\n      onChange: this.handleOnchange('clave'),\n      placeholder: \"Contrasena\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }), React.createElement(Button, {\n      color: \"info\",\n      block: true,\n      onClick: this.enviarSolicitud,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, \"INGRESAR\"), ' ', React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"mensajito\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, \"\\xBFAun sin cuenta? \", React.createElement(Link, {\n      to: \"/registro\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, \"registrare aqui\")))));\n  }\n\n}\n\nexport default LoginClient;","map":{"version":3,"sources":["/home/Cristian/NeuroMaker/neuromaker-f/src/componentes/loginClient.jsx"],"names":["React","Component","Link","axios","Button","FormGroup","Input","logo","LoginClient","constructor","props","handleOnchange","input","e","setState","target","value","state","cedula","clave","bind","enviarSolicitud","enviar","mensaje","console","log","post","then","response","alert","JSON","stringify","data","window","location","reload","localStorage","setItem","render","autenticado"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport axios from 'axios'\nimport { Button, FormGroup, Input } from 'reactstrap';\nimport '../estilos/loginClient.css'\nimport logo from '../logo.png'\n\nclass LoginClient extends Component {\n  constructor(props) {\n    super(props);\n    //console.log(props)\n    this.state = {\n      cedula: \"\",\n      clave: \"\",\n    };\n    this.handleOnchange = this.handleOnchange.bind(this);\n    this.enviarSolicitud = this.enviarSolicitud.bind(this)\n    this.enviar = this.enviar.bind(this);\n\n  }\n\n\n  handleOnchange = input => e => {\n    this.setState({ [input]: e.target.value });\n  }\n\n  enviarSolicitud() {\n    const mensaje = {\n      cedula: this.state.cedula,\n      clave: this.state.clave\n\n    }\n    console.log(mensaje)\n\n    //Axios se encarga de hacer solicitudes de forma sencilla\n    axios.post('http://localhost:4000/usuario/loginUsuario', mensaje)\n      .then((response) => {\n        alert(JSON.stringify(response.data))\n        if (response.data.mensaje === \"Usuario encontrado\") {\n          window.location.reload();\n          localStorage.setItem(\"token\", \"18182A2ISJ292101\");\n        }\n\n      })\n  }\n\n\n  enviar() {\n    /*\n        let esConductor = (JSON.parse(this.state.conductor));\n        if(this.state.identificador.match(\"^[0-9]+$\")!=null){\n          if(this.state.contrasena !== \"\"){\n            const input = {\n              identificador: this.state.identificador, \n              contrasena: this.state.contrasena,\n              conductor: false\n            };\n            let url = \"http://\"+ this.props.url +\":4000/login\";\n            if(esConductor){\n              input.conductor = true;\n            }\n            const opciones = {\n              method: 'POST',  \n              body: JSON.stringify(input),  \n              headers:{\n                'Content-Type': 'application/json'\n              }\n            };\n            const request = new Request(url, opciones);\n            this.setState({closedProgress: false})\n            fetch(request).then(res => res.json())\n            .then((response) => {\n    \n              this.setState({closedProgress: true})\n              console.log('Exito:', JSON.stringify(response))\n    \n              if (response.identificador) {\n                if(response.contrasena){\n                  if(esConductor){\n                    if(response.ocupado){\n                      handleClick({message: \"El taxi esta siendo usado!!\"})\n                    }else{\n                      this.props.iniciarSesion({valor: esConductor, nombre: response.nombre, id:response.id, placa: response.placa});\n                    }\n                  }else{\n                    if(response.ocupado){\n                      handleClick({message: \"La sesion ya esta iniciada\"})\n                    }else{\n                      this.props.iniciarSesion({valor: esConductor, nombre: response.nombre, id:response.id});\n                    }\n                  }            \n                }else{\n                  handleClick({message: \"Contraseña incorrecta\"})\n                }\n              }else{\n                handleClick({message: (esConductor)?\n                                      \"El Conductor no esta registrado\":\n                                      \"El Pasajero no esta registrado\"\n                                    })\n              }\n            }\n            )\n            .catch(error => {\n              console.log('Error:', error)\n              this.setState({closedProgress: true})\n              handleClick({message: \"Error de red, intentelo mas tarde\"})\n              });\n    \n          }else{\n            handleClick({message: \"La contraseña esta vacia\"})\n          }\n        }else{\n          handleClick({message: (esConductor)?\n                      \"El número de CEDULA es invalido\":\n                      \"El número de CELULAR es invalido\"\n                      })\n        } \n        */\n  }\n\n  render() {\n    if (this.props.autenticado) {\n      console.log(\"Esta logeado\")\n\n    }\n    return (\n      <div>\n        \n        <div id=\"espacio\" />\n        <div className=\"logo\">\n          <Link to=\"/\">\n            <img src={logo} alt=\"\" />\n          </Link>\n        </div>\n        <div className=\"Bloque\">\n          \n          <div id=\"formularioLogin\">\n            <h2>Iniciar Sesión</h2>\n            <br />\n            <FormGroup>\n              <i className=\"fa fa-user\"></i>\n              <Input type=\"email\" name=\"email\"\n                onChange={this.handleOnchange('cedula')}\n                placeholder=\"Cedula\"\n              />\n\n            </FormGroup>\n            <br />\n            <FormGroup>\n              <i className=\"fa fa-lock\"></i>\n              <Input type=\"password\" name=\"password\"\n                onChange={this.handleOnchange('clave')}\n                placeholder=\"Contrasena\" />\n\n            </FormGroup>\n            <br />\n            <Button color=\"info\" block onClick={this.enviarSolicitud}>INGRESAR</Button>{' '}\n\n            <br /><br />\n            <span className=\"mensajito\">¿Aun sin cuenta? <Link to={\"/registro\"} >registrare aqui</Link></span>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default LoginClient;"]},"metadata":{},"sourceType":"module"}