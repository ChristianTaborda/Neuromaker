{"ast":null,"code":"var _jsxFileName = \"/home/Cristian/NeuroMaker/neuromaker-f/src/componentes/main.jsx\";\n\n/* Por el momento solo se tiene el login como ejemplo */\nimport React from 'react';\nimport Header from './header';\nimport Footer from './footer';\nimport Producto from './producto';\nimport axios from 'axios';\nimport Paginacion from './paginacion';\nimport { Spinner } from 'reactstrap';\nimport { Route, Link, withRouter } from 'react-router-dom';\n/*\nLos componentes con estado deben ser clases\nvea un ejemplo de componente sin estado en el\nfooter o header\n*/\n\nconst listaProductos = arreglo => arreglo.map(indice => React.createElement(Link, {\n  key: indice.id,\n  to: \"/detalle/\".concat(indice.id),\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 20\n  },\n  __self: this\n}, React.createElement(Producto, {\n  producto: indice,\n  key: indice.id,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 20\n  },\n  __self: this\n})));\n\nclass Main extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleOnchange = valor => {\n      console.log(valor);\n\n      if (valor != 0 && valor <= this.state.paginas) {\n        console.log(valor);\n        let nel = [];\n\n        for (var x = valor * 5 - 5; x < valor * 5 && x < this.state.productos.length; x++) {\n          nel.push(this.state.productos[x]);\n        }\n\n        this.setState({\n          numPagina: valor,\n          paginaProductos: nel\n        });\n      }\n    };\n\n    const token = localStorage.getItem(\"token\");\n    let clienteLogueado = true;\n\n    if (token == null) {\n      clienteLogueado = false;\n    }\n\n    this.state = {\n      clienteLogueado,\n      cargando: true,\n      productos: [{\n        nombre: ''\n      }],\n      paginas: '',\n      numPagina: 1,\n      paginaProductos: [{\n        nombre: ''\n      }]\n    };\n    this.handleOnchange = this.handleOnchange.bind(this);\n  }\n\n  componentWillMount() {\n    console.log(this.props);\n\n    if (this.props.match.params.filtro != null) {\n      //Axios se encarga de hacer solicitudes de forma sencilla\n      axios.post(\"http://localhost:4000/producto/filtrarProductos/\".concat(this.props.match.params.filtro)).then(response => {\n        if (response.data.mensaje === \"consulta exitosa\") {\n          this.setState({\n            productos: response.data.data\n          });\n          this.setState({\n            paginas: Math.ceil(this.state.productos.length / 5)\n          });\n          this.setState({\n            cargando: false\n          });\n        }\n      });\n    } else {\n      //Axios se encarga de hacer solicitudes de forma sencilla\n      axios.post('http://localhost:4000/producto/consultarProductos').then(response => {\n        if (response.data.mensaje === \"consulta exitosa\") {\n          this.setState({\n            productos: response.data.data\n          });\n          this.setState({\n            paginas: Math.ceil(this.state.productos.length / 5)\n          });\n          this.setState({\n            cargando: false\n          });\n          var aux = response.data.data.slice(0, 5);\n          this.setState({\n            paginaProductos: aux\n          });\n        }\n      });\n    }\n  }\n\n  render() {\n    if (this.state.cargando) {\n      return (//Falta centrarlo\n        React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105\n          },\n          __self: this\n        }, React.createElement(Spinner, {\n          type: \"grow\",\n          color: \"secondary\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 108\n          },\n          __self: this\n        }), React.createElement(Spinner, {\n          type: \"grow\",\n          color: \"success\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109\n          },\n          __self: this\n        }), React.createElement(Spinner, {\n          type: \"grow\",\n          color: \"danger\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110\n          },\n          __self: this\n        }), React.createElement(Spinner, {\n          type: \"grow\",\n          color: \"warning\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111\n          },\n          __self: this\n        }), React.createElement(Spinner, {\n          type: \"grow\",\n          color: \"info\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112\n          },\n          __self: this\n        }), React.createElement(Spinner, {\n          type: \"grow\",\n          color: \"light\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113\n          },\n          __self: this\n        }), React.createElement(Spinner, {\n          type: \"grow\",\n          color: \"dark\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 114\n          },\n          __self: this\n        }))\n      );\n    } else {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }), React.createElement(\"main\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, listaProductos(this.state.productos), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(Paginacion, {\n        paginas: this.state.paginas,\n        funcion: this.handleOnchange,\n        numPagina: this.state.numPagina,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }))), React.createElement(Footer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }));\n    }\n  }\n\n}\n\nexport default withRouter(Main);","map":{"version":3,"sources":["/home/Cristian/NeuroMaker/neuromaker-f/src/componentes/main.jsx"],"names":["React","Header","Footer","Producto","axios","Paginacion","Spinner","Route","Link","withRouter","listaProductos","arreglo","map","indice","id","Main","Component","constructor","props","handleOnchange","valor","console","log","state","paginas","nel","x","productos","length","push","setState","numPagina","paginaProductos","token","localStorage","getItem","clienteLogueado","cargando","nombre","bind","componentWillMount","match","params","filtro","post","then","response","data","mensaje","Math","ceil","aux","slice","render"],"mappings":"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","sourcesContent":["/* Por el momento solo se tiene el login como ejemplo */\nimport React from 'react'\nimport Header from './header'\nimport Footer from './footer'\nimport Producto from './producto'\nimport axios from 'axios'\nimport Paginacion from './paginacion'\nimport { Spinner } from 'reactstrap';\nimport { Route, Link, withRouter } from 'react-router-dom'\n/*\nLos componentes con estado deben ser clases\nvea un ejemplo de componente sin estado en el\nfooter o header\n*/\n\n\n\nconst listaProductos = (arreglo) => (\n  arreglo.map(indice => (\n    <Link key={indice.id} to={`/detalle/${indice.id}`} ><Producto producto={indice} key={indice.id} /></Link>\n\n  ))\n\n);\n\n\n\nclass Main extends React.Component {\n  constructor(props) {\n    super(props);\n    const token = localStorage.getItem(\"token\")\n    let clienteLogueado = true;\n    if (token == null) {\n      clienteLogueado = false;\n    }\n    this.state = {\n      clienteLogueado,\n      cargando: true,\n      productos: [\n        {\n          nombre: ''\n        }\n      ],\n      paginas: '',\n      numPagina: 1,\n      paginaProductos: [\n        {\n          nombre: ''\n        }\n      ]\n    }\n    this.handleOnchange=this.handleOnchange.bind(this)\n  }\n\n  handleOnchange =  (valor) => {\n    console.log(valor);\n    if(valor != 0 && valor <= this.state.paginas){\n      console.log(valor)\n      let nel = [];\n      for(var x=((valor * 5) - 5); x<(valor * 5) && x<this.state.productos.length; x++){\n        nel.push(this.state.productos[x]);\n      }\n      this.setState({numPagina: valor, paginaProductos: nel});\n    }\n  }\n\n  componentWillMount() {\n    console.log(this.props)\n    if(this.props.match.params.filtro != null){\n        //Axios se encarga de hacer solicitudes de forma sencilla\n      axios.post(`http://localhost:4000/producto/filtrarProductos/${this.props.match.params.filtro}`)\n      .then((response) => {\n\n        if (response.data.mensaje === \"consulta exitosa\") {\n          \n          this.setState({ productos: response.data.data })\n          this.setState({paginas: Math.ceil((this.state.productos.length)/5)})\n          this.setState({ cargando: false })\n        }\n\n      })\n    }else{\n        //Axios se encarga de hacer solicitudes de forma sencilla\n      axios.post('http://localhost:4000/producto/consultarProductos')\n      .then((response) => {\n\n        if (response.data.mensaje === \"consulta exitosa\") {\n\n          this.setState({ productos: response.data.data })\n          this.setState({paginas: Math.ceil((this.state.productos.length)/5)})\n          this.setState({ cargando: false })\n          var aux = response.data.data.slice(0,5);\n          this.setState({paginaProductos:  aux})\n        }\n\n      })\n      }\n  }\n\n\n  render() {\n    if (this.state.cargando) {\n      return (\n        //Falta centrarlo\n        <div>\n\n          {/*<Spinner style={{ position: 'relative', right: '40px', top: '50px' }} type=\"grow\" color=\"primary\" />*/}\n          <Spinner type=\"grow\" color=\"secondary\" />\n          <Spinner type=\"grow\" color=\"success\" />\n          <Spinner type=\"grow\" color=\"danger\" />\n          <Spinner type=\"grow\" color=\"warning\" />\n          <Spinner type=\"grow\" color=\"info\" />\n          <Spinner type=\"grow\" color=\"light\" />\n          <Spinner type=\"grow\" color=\"dark\" />\n\n        </div>\n      );\n    } else {\n      return (\n\n        <div>\n          <Header />\n          <main>\n            {listaProductos(this.state.productos)}\n            <div>\n              <Paginacion paginas = {this.state.paginas} \n              funcion = {this.handleOnchange} numPagina = {this.state.numPagina}/>\n            </div>\n          </main>\n          <Footer />\n        </div>\n      );\n    }\n  }\n\n\n}\n\nexport default withRouter(Main);"]},"metadata":{},"sourceType":"module"}